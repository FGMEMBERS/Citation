<?xml version='1.0' encoding='utf-8'?>
<!-- Collins CTL-22 Control for Collins VHF-22 tranceiver
Active and preset displayed +
6 frequency memory storage
2.375"W x 2.625"H
Freq. range 118.000 - 136.975 (normal) @ 25 kHz spacing
Syd Adams

Update:
model updated with complete display (used in all Collins devices)
add active mode (ACT)
add memory recall and storage (STO)
add squelch-off mode (SQ-OFF)
Sascha ReiÃŸner
-->

<PropertyList>

    <path>ctl22.ac</path>

    <animation>
        <type>select</type>
        <object-name>ctl22.display</object-name>
        <object-name>ctl22.freq.001</object-name>
        <object-name>ctl22.freq.002</object-name>
        <object-name>ctl22.freq.003</object-name>
        <object-name>ctl22.freq.004</object-name>
        <object-name>ctl22.freq.005</object-name>
        <object-name>ctl22.freq.dec1</object-name>
        <object-name>ctl22.stby.001</object-name>
        <object-name>ctl22.stby.002</object-name>
        <object-name>ctl22.stby.003</object-name>
        <object-name>ctl22.stby.004</object-name>
        <object-name>ctl22.stby.005</object-name>
        <object-name>ctl22.stby.dec1</object-name>
        <object-name>ctl22.code.001</object-name>
        <object-name>ctl22.code.002</object-name>
        <object-name>ctl22.dash</object-name>
        <object-name>ctl22.diag</object-name>
        <object-name>ctl22.mem</object-name>
        <object-name>ctl22.mem.ch</object-name>
        <object-name>ctl22.annun.act</object-name>
        <object-name>ctl22.annun.mem</object-name>
        <object-name>ctl22.annun.rmt</object-name>
        <object-name>ctl22.annun.tx</object-name>
        <object-name>ctl22.annun.hold</object-name>
        <object-name>ctl22.toggle.lit</object-name>
        <condition>
            <and>
                <property>systems/electrical/outputs/comm[1]</property>
                <property>instrumentation/comm[1]/power-btn</property>
            </and>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.freq.001</object-name>
        <object-name>ctl22.freq.002</object-name>
        <object-name>ctl22.freq.003</object-name>
        <object-name>ctl22.freq.004</object-name>
        <object-name>ctl22.freq.005</object-name>
        <object-name>ctl22.freq.dec1</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
    </animation>

<!--   Memory Channel   -->
    <animation>
        <type>select</type>
        <object-name>ctl22.mem</object-name>
        <object-name>ctl22.mem.ch</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <property>instrumentation/ctl22[1]/mem-mode</property>
            </and>
        </condition>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.mem.ch</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <property>instrumentation/ctl22[1]/mem-mode</property>
            </and>
        </condition>
        <property>instrumentation/ctl22[1]/mem-pos</property>
        <factor>0.1</factor>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.diag</object-name>
        <condition>
            <equals>
                <property>instrumentation/ctl22[1]/mode</property>
                <value>2</value>
            </equals>
            </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.stby.001</object-name>
        <object-name>ctl22.stby.002</object-name>
        <object-name>ctl22.stby.003</object-name>
        <object-name>ctl22.stby.004</object-name>
        <object-name>ctl22.stby.005</object-name>
        <object-name>ctl22.stby.dec1</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
            </and>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.dash</object-name>
        <condition>
            <and>
                <equals>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>1</value>
                </equals>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.code.001</object-name>
        <object-name>ctl22.code.002</object-name>
        <condition>
            <equals>
                <property>instrumentation/ctl22[1]/mode</property>
                <value>2</value>
            </equals>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.annun.act</object-name>
        <condition>
            <or>
                <and>
                    <equals>
                        <property>instrumentation/ctl22[1]/toggle</property>
                        <value>1</value>
                    </equals>
                    <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
                </and>
                <equals>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>1</value>
                </equals>
            </or>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.annun.mem</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <or>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[0]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[1]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[2]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[3]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[4]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                    <less-than>
                        <expression>
                            <abs>
                                <dif>
                                    <property>instrumentation/ctl22[1]/mem[5]</property>
                                    <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                </dif>
                            </abs>
                        </expression>
                        <value>0.005</value>
                    </less-than>
                </or>
            </and>
        </condition>
    </animation>

    <animation>
        <type>select</type>
        <object-name>ctl22.annun.tx</object-name>
        <condition>
            <property>instrumentation/comm[1]/ptt</property>
        </condition>
    </animation>

<!--   unused parts   -->
    <animation>
        <type>select</type>
        <object-name>ctl22.freq.dec2</object-name>
        <object-name>ctl22.stby.dec2</object-name>
        <object-name>ctl22.annun.rmt</object-name>
        <object-name>ctl22.annun.hold</object-name>
        <condition>
            <equals>
                <property>instrumentation/ctl22[1]/mode</property>
                <value>3</value>
            </equals>
        </condition>
    </animation>

    <animation>
        <type>rotate</type>
        <object-name>ctl22.pwr</object-name>
        <property>instrumentation/ctl22[1]/power-knob</property>
        <factor>33</factor>
        <center>
            <x-m>0.003</x-m>
            <y-m>-0.01375</y-m>
            <z-m>-0.01835</z-m>
        </center>
        <axis>
            <x>-1</x>
            <y>0</y>
            <z>0</z>
        </axis>
    </animation>

    <animation>
        <type>rotate</type>
        <object-name>ctl22.vol</object-name>
        <property>instrumentation/comm[1]/volume-def</property>
        <factor>270</factor>
        <center>
            <x-m>0.003</x-m>
            <y-m>-0.01375</y-m>
            <z-m>-0.01835</z-m>
        </center>
        <axis>
            <x>-1</x>
            <y>0</y>
            <z>0</z>
        </axis>
    </animation>

<!--
if anyone want animate the tune knobs,
the centers are:

    <center>
      <x-m>0.003</x-m>
      <y-m>-0.01705</y-m>
      <z-m>-0.01585</z-m>
    </center>
    <axis>
      <x>-1</x>
      <y>0</y>
      <z>0</z>
    </axis>
-->

    <animation>
        <type>rotate</type>
        <object-name>ctl22.toggle</object-name>
        <property>instrumentation/ctl22[1]/toggle</property>
        <factor>20</factor>
        <center>
            <x-m>-0.0010</x-m>
            <y-m>0.02245</y-m>
            <z-m>0.01270</z-m>
        </center>
        <axis>
            <x>0</x>
            <y>-1</y>
            <z>0</z>
        </axis>
    </animation>

<!--   Active Frequency   -->
    <animation>
        <type>textranslate</type>
        <object-name>ctl22.freq.001</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
        <factor>0.001</factor>
        <step>100</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.freq.002</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
        <factor>0.01</factor>
        <step>10</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.freq.003</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
        <factor>0.1</factor>
        <step>1</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.freq.004</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
        <factor>1.0</factor>
        <step>0.1</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.freq.005</object-name>
        <condition>
            <and>
                <less-than>
                    <property>instrumentation/ctl22[1]/mode</property>
                    <value>2</value>
                </less-than>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
        <factor>10.0</factor>
        <step>0.01</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

<!--   Preselected Frequency   -->
    <animation>
        <type>textranslate</type>
        <object-name>ctl22.stby.001</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
        <factor>0.001</factor>
        <step>100</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.stby.002</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
        <factor>0.01</factor>
        <step>10</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.stby.003</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
        <factor>0.1</factor>
        <step>1</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.stby.004</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
        <factor>1.0</factor>
        <step>0.100</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

    <animation>
        <type>textranslate</type>
        <object-name>ctl22.stby.005</object-name>
        <condition>
            <and>
                <not><property>instrumentation/ctl22[1]/mode</property></not>
                <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
            </and>
        </condition>
        <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
        <factor>10.0</factor>
        <step>0.01</step>
        <bias>0.0005</bias>
        <axis>
            <x>0</x>
            <y>1</y>
        </axis>
    </animation>

<!--   OSG hotspots   -->
    <animation>
        <type>pick</type>
        <object-name>ctl22.toggle</object-name>
        <action>
            <button>0</button>
            <repeatable>false</repeatable>
            <binding>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/toggle</property>
                <value>1</value>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>0</value>
                        </equals>
                        <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
                    </and>
                </condition>
                <command>property-swap</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <property>instrumentation/ctl22[1]/mem-mode</property>
                        <less-than>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>2</value>
                        </less-than>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/ctl22[1]/mem-pos</property>
                <min>0</min>
                <max>6</max>
                <step>-1</step>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <property>instrumentation/ctl22[1]/mem-mode</property>
                        <less-than>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>2</value>
                        </less-than>
                    </and>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-run</property>
                <value>0.5</value>
            </binding>
        </action>
        <hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>comm2-toggle</tooltip-id>
                <label>Comm2 swap frequencies</label>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.toggle</object-name>
        <action>
            <button>1</button>
            <repeatable>false</repeatable>
            <binding>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/toggle</property>
                <value>-1</value>
            </binding>

            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <less-than>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>2</value>
                        </less-than>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/ctl22[1]/mem-pos</property>
                <min>0</min>
                <max>6</max>
                <step>1</step>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <less-than>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>2</value>
                        </less-than>
                    </and>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-run</property>
                <value>0.5</value>
            </binding>

            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>0</value>
                        </equals>
                        <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
                    </and>
                </condition>
                <command>nasal</command>
                <script><![CDATA[
                    var val=getprop('instrumentation/ctl22[1]/mem[' ~ getprop('instrumentation/ctl22[1]/mem-pos') ~ ']');
                    if (val > 1.0) { setprop('instrumentation/comm[1]/frequencies/standby-mhz', val); }
                ]]></script>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                        <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
                    </and>
                </condition>
                <command>nasal</command>
                <script><![CDATA[
                    var val=getprop('instrumentation/ctl22[1]/mem[' ~ getprop('instrumentation/ctl22[1]/mem-pos') ~ ']');
                    if (val > 1.0) { setprop('instrumentation/comm[1]/frequencies/selected-mhz', val); }
                ]]></script>
            </binding>

        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.pwr</object-name>
        <action>
            <button>0</button>
            <repeatable>false</repeatable>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/ctl22[1]/power-knob</property>
                <step>1</step>
                <min>0</min>
                <max>2</max>
                <wrap>false</wrap>
            </binding>
        </action>
        <hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>comm2-power</tooltip-id>
                <label>Comm2: %s</label>
                <property>instrumentation/ctl22[1]/power-knob</property>
                <mapping>nasal</mapping>
                <script>
                    var modes = ['OFF', 'ON', 'SQ-OFF'];
                    return modes[arg[0]];
                </script>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.pwr</object-name>
        <action>
            <button>1</button>
            <repeatable>false</repeatable>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/ctl22[1]/power-knob</property>
                <step>-1</step>
                <min>0</min>
                <max>2</max>
                <wrap>false</wrap>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mode</property>
                <value>0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[0]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[1]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[2]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[3]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[4]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem[5]</property>
                <value>0.0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-mode</property>
                <value>0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-pos</property>
                <value>0</value>
            </binding>
            <binding>
                <condition>
                    <equals>
                        <property>instrumentation/ctl22[1]/power-knob</property>
                        <value>0</value>
                    </equals>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-run</property>
                <value>0.0</value>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.vol</object-name>
        <action>
            <button>0</button>
            <repeatable>true</repeatable>
            <interval-sec>0.1</interval-sec>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/volume-def</property>
                <step>0.05</step>
                <min>0</min>
                <max>1</max>
            </binding>
        </action>
        <hovered>
            <binding>
                <command>set-tooltip</command>
                <tooltip-id>comm2-vol</tooltip-id>
                <label>Comm2 volume: %d%%</label>
                <property>instrumentation/comm[1]/volume-def</property>
                <mapping>percent</mapping>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.vol</object-name>
        <action>
            <button>1</button>
            <repeatable>true</repeatable>
            <interval-sec>0.1</interval-sec>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/volume-def</property>
                <step>-0.05</step>
                <min>0</min>
                <max>1</max>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.vol</object-name>
        <action>
            <button>3</button>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/volume-def</property>
                <step>0.05</step>
                <min>0</min>
                <max>1</max>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.vol</object-name>
        <action>
            <button>4</button>
            <binding>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/volume-def</property>
                <step>-0.05</step>
                <min>0</min>
                <max>1</max>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.inner</object-name>
        <action>
            <button>0</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
        <hovered>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-freq</tooltip-id>
                <label>Comm2 frequency: %.3f MHz</label>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-freq</tooltip-id>
                <label>Comm2 frequency: %.3f MHz</label>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.inner</object-name>
        <action>
            <button>1</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>-0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>-0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.inner</object-name>
        <action>
            <button>3</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.inner</object-name>
        <action>
            <button>4</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>-0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>-0.025</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.outer</object-name>
        <action>
            <button>0</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
        <hovered>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-freq</tooltip-id>
                <label>Comm2 frequency: %.3f MHz</label>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-freq</tooltip-id>
                <label>Comm2 frequency: %.3f MHz</label>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.outer</object-name>
        <action>
            <button>1</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>-1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>-1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.outer</object-name>
        <action>
            <button>3</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.tune.outer</object-name>
        <action>
            <button>4</button>
            <repeatable>true</repeatable>
            <interval-sec>0.2</interval-sec>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not><property>instrumentation/ctl22[1]/mode</property></not>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                <step>-1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>1</value>
                        </equals>
                    </and>
                </condition>
                <command>property-adjust</command>
                <property>instrumentation/comm[1]/frequencies/selected-mhz</property>
                <step>-1.0</step>
                <min>117.995</min>
                <max>136.995</max>
                <wrap>true</wrap>
            </binding>
        </action>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.btn.act</object-name>
        <action>
            <button>0</button>
            <repeatable>false</repeatable>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <not>
                            <equals>
                                <property>instrumentation/ctl22[1]/mode</property>
                                <value>2</value>
                            </equals>
                        </not>
                    </and>
                </condition>
                <command>property-toggle</command>
                <property>instrumentation/ctl22[1]/mode</property>
            </binding>
        </action>
        <hovered>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-act</tooltip-id>
                <label>Comm2 ACT: %s</label>
                <property>instrumentation/ctl22[1]/mode</property>
                <mapping>on-off</mapping>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>ctl22.btn.sto</object-name>
        <action>
            <button>0</button>
            <repeatable>false</repeatable>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>0</value>
                        </equals>
                        <property>instrumentation/ctl22[1]/mem-mode</property>
                    </and>
                </condition>
                <command>nasal</command>
                <script><![CDATA[
                    setprop('instrumentation/ctl22[1]/mem[' ~ getprop('instrumentation/ctl22[1]/mem-pos') ~ ']',
                        getprop('instrumentation/comm[1]/frequencies/standby-mhz'));
                ]]></script>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>0</value>
                        </equals>
                        <property>instrumentation/ctl22[1]/mem-mode</property>
                    </and>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-mode</property>
                <value>0</value>
            </binding>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                        <equals>
                            <property>instrumentation/ctl22[1]/mode</property>
                            <value>0</value>
                        </equals>
                        <not><property>instrumentation/ctl22[1]/mem-mode</property></not>
                        <or>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>0</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[0]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>1</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[1]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>2</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[2]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>3</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[3]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>4</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[4]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                            <and>
                                <equals>
                                    <property>instrumentation/ctl22[1]/mem-pos</property>
                                    <value>5</value>
                                </equals>
                                <greater-than>
                                    <expression>
                                        <abs>
                                            <dif>
                                                <property>instrumentation/ctl22[1]/mem[5]</property>
                                                <property>instrumentation/comm[1]/frequencies/standby-mhz</property>
                                            </dif>
                                        </abs>
                                    </expression>
                                    <value>0.005</value>
                                </greater-than>
                            </and>
                        </or>
                    </and>
                </condition>
                <command>property-assign</command>
                <property>instrumentation/ctl22[1]/mem-mode</property>
                <value>1</value>
            </binding>
        </action>
        <hovered>
            <binding>
                <condition>
                    <and>
                        <property>systems/electrical/outputs/comm[1]</property>
                        <property>instrumentation/comm[1]/power-btn</property>
                    </and>
                </condition>
                <command>set-tooltip</command>
                <tooltip-id>comm2-sto</tooltip-id>
                <label>Comm2 store: %s</label>
                <property>instrumentation/ctl22[1]/mem-mode</property>
                <mapping>on-off</mapping>
            </binding>
        </hovered>
    </animation>

    <animation>
        <type>material</type>
        <texture alias="../../texture" />
        <object-name>ctl22.bezel</object-name>
    </animation>

<!-- Panel Lights (only with Rembrandt disabled) -->
    <animation>
        <type>material</type>
        <condition>
            <not>
                <property>sim/rendering/rembrandt/enabled</property>
            </not>
        </condition>
        <object-name>ctl22.bezel</object-name>
        <object-name>ctl22.metal</object-name>
        <object-name>ctl22.toggle</object-name>
        <emission>
            <red>0.9</red>
            <green>0.6</green>
            <blue>0.4</blue>
            <factor-prop>controls/lighting/panel-average-lighting</factor-prop>
        </emission>
    </animation>

<!-- Instrument Lights -->
<!-- Implement emis animation even for Rembrandt rendering! -->
    <animation>
        <type>material</type>
        <condition>
            <and>
                <property>systems/electrical/outputs/comm[1]</property>
                <property>instrumentation/comm[1]/power-btn</property>
            </and>
        </condition>
        <object-name>ctl22.pwr</object-name>
        <object-name>ctl22.vol</object-name>
        <object-name>ctl22.tune.outer</object-name>
        <object-name>ctl22.tune.inner</object-name>
        <object-name>ctl22.toggle.lit</object-name>
        <object-name>ctl22.btn.act</object-name>
        <object-name>ctl22.btn.sto</object-name>
        <object-name>ctl22.btn.test</object-name>
        <emission>
            <red>0.8</red>
            <green>0.8</green>
            <blue>0.7</blue>
            <factor-prop>controls/lighting/flightdeck-average-instrument-emission</factor-prop>
        </emission>
    </animation>

    <effect>
        <condition>
            <greater-than>
                <property>sim/version/flightgear</property>
                <value>3.4.999</value>
            </greater-than>
        </condition>
        <inherits-from>Aircraft/Citation/Models/Effects/interior-shadow/citationII-interior-flightdeck</inherits-from>
        <object-name>ctl22.bezel</object-name>
        <object-name>ctl22.metal</object-name>
        <object-name>ctl22.pwr</object-name>
        <object-name>ctl22.vol</object-name>
        <object-name>ctl22.tune.outer</object-name>
        <object-name>ctl22.tune.inner</object-name>
        <object-name>ctl22.toggle</object-name>
        <object-name>ctl22.btn.act</object-name>
        <object-name>ctl22.btn.sto</object-name>
        <object-name>ctl22.btn.test</object-name>
    </effect>

    <effect>
        <inherits-from>Effects/model-transparent</inherits-from>
        <object-name>ctl22.glass</object-name>
    </effect>

</PropertyList>
